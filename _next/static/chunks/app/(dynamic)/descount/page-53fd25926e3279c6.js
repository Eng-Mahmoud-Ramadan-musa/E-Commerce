(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84],{4301:function(e,t,r){Promise.resolve().then(r.bind(r,525))},525:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var s=r(7437),a=r(5920),n=r(689),o=r(2265);function c(){let{state:e}=(0,o.useContext)(n.s);return(0,s.jsx)("div",{className:"py-5 w-full gap-2 flex justify-center flex-wrap items-center px-[5%]",children:e.products.map(e=>(0,s.jsx)(a.Z,{id:e.id,title:e.title,category:e.category,image:e.thumbnail,rating:e.rating,discount:e.discountPercentage,price:e.price,stock:e.stock,descount:e.discountPercentage},e.id))})}},1305:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(7437),a=r(4295),n=r(2744),o=r(689),c=r(9826),l=r(9376),i=r(2265),u=r(4199);function d(e){let{product:t}=e,{id:r,title:d,category:f,image:h,rating:p,descount:x,price:m,stock:y}=t,g=(0,l.useRouter)(),{state:v,dispatch:j}=(0,i.useContext)(o.s),{user:N}=(0,i.useContext)(c.S),{mode:S}=(0,i.useContext)(u.N),_=v.favoriteItems.some(e=>e.id===r),E=e=>{N?e():g.push("/login")};return(0,s.jsxs)("div",{style:{background:"".concat("dark"===S?"#ffffff33":"#22222255")},className:"sm:hidden flex flex-col absolute top-4 right-1 text-xl bg-opacity-40 p-1 rounded-lg z-30",children:[(0,s.jsx)("button",{className:"hover:bg-green-500 rounded-full p-1 text-white z-30",onClick:()=>{E(()=>{j({type:"ADD_TO_SHOPPING",payload:{id:r,title:d,category:f,image:h,rating:p,descount:x,price:m,stock:y,count:1}})})},children:(0,s.jsx)(a.S$f,{})}),(0,s.jsx)("button",{style:{background:!0===_?"#f00":""},className:"hover:bg-red-500 rounded-full p-1 text-white z-30",onClick:()=>{E(()=>{_?j({type:"REMOVE_TO_FAVORITE",payload:{id:r}}):j({type:"ADD_TO_FAVORITE",payload:{id:r,title:d,category:f,image:h,rating:p,descount:x,price:m,stock:y}})})},children:(0,s.jsx)(n.iqB,{})})]})}},5920:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var s=r(7437),a=r(3145),n=r(7648),o=r(2265),c=r(4199),l=r(8396),i=r(1305);function u(e){let{id:t,title:r,category:u,image:d,rating:f,descount:h,price:p,stock:x}=e,{mode:m}=(0,o.useContext)(c.N);return(0,s.jsxs)("div",{style:{border:"1px solid ".concat("dark"==m?"#fff":"#222")},className:"divControl relative w-60 items-start p-2 rounded-xl duration-300 ease-in-out",children:[(0,s.jsxs)(n.default,{href:"/product/".concat(t),className:" ",children:[(0,s.jsx)(a.default,{src:d,width:220,height:50,alt:r}),(0,s.jsx)("h2",{className:"text-lg font-bold text-nowrap text-ellipsis overflow-hidden",children:r}),x&&(0,s.jsxs)("h3",{className:"text-sm font-semibold opacity-70",children:["stock: ",x]}),f&&(0,s.jsxs)("h3",{className:"text-sm font-semibold flex gap-1 items-center",children:["rating: ",(0,s.jsx)(l.Z,{rate:f})," "]}),h?(0,s.jsxs)("span",{className:"flex justify-between items-center px-2",children:[(0,s.jsxs)("del",{className:"text-sm font-semibold text-red-500 opacity-70",children:["price: ",p," $"]}),(0,s.jsxs)("h3",{className:"bg-green-500 px-1 rounded-lg",children:[(p-p*h/100).toFixed(1)," $"]})]}):(0,s.jsxs)("h3",{className:"text-sm font-semibold opacity-70",children:["price: ",p," $"]})]},t),(0,s.jsx)(i.Z,{product:{id:t,title:r,category:u,image:d,rating:f,descount:h,price:p,stock:x}})]})}},8396:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(7437),a=r(4295);function n(e){let{rate:t}=e,r=[],n=Math.floor(t),o=t%1>=.5;for(let e=0;e<5;e++)e<n?r.push((0,s.jsx)(a.hF5,{className:"text-[gold]"},"full-".concat(e))):e===n&&o?r.push((0,s.jsxs)("div",{className:"relative overflow-hidden",children:[(0,s.jsx)(a.hF5,{className:"text-[gold]"}),(0,s.jsx)("div",{className:"absolute w-full h-full z-10 top-0 left-1/2 overflow-hidden bg-inherit ",children:(0,s.jsx)(a.hF5,{className:"text-gray-500  absolute -left-1/2"})})]},"half")):r.push((0,s.jsx)(a.hF5,{className:"text-gray-500"},"empty-".concat(e)));return(0,s.jsx)("span",{className:"flex",children:r})}},689:function(e,t,r){"use strict";r.d(t,{s:function(){return c},StateProvider:function(){return l}});var s=r(7437),a=r(2265);let n={products:[],filteredProducts:[],textSearch:"",searchProducts:[],category:"all",cartItems:[],favoriteItems:[]},o=(e,t)=>{switch(t.type){case"SET_PRODUCTS":return{...e,products:t.payload,filteredProducts:t.payload};case"FILTER_BY_CATEGORY":return{...e,category:t.payload,filteredProducts:"all"===t.payload?e.products:e.products.filter(e=>e.category===t.payload)};case"SET_SEARCH_TERM":return{...e,textSearch:t.payload,searchProducts:e.products.filter(e=>e.title.toLowerCase().includes(t.payload.toLowerCase()))};case"ADD_TO_SHOPPING":if(!e.cartItems.find(e=>e.id===t.payload.id))return{...e,cartItems:[...e.cartItems,{...t.payload,count:1}]};{let r=e.cartItems.map(e=>e.id===t.payload.id?{...e,count:e.count+1}:e);return{...e,cartItems:r}}case"REMOVE_FROM_SHOPPING":return{...e,cartItems:e.cartItems.map(e=>e.id!==t.payload.id?e:e.count>1?{...e,count:e.count-1}:null).filter(Boolean)};case"ADD_TO_FAVORITE":return{...e,favoriteItems:[...e.favoriteItems,t.payload]};case"REMOVE_TO_FAVORITE":return{...e,favoriteItems:e.favoriteItems.filter(e=>e.id!==t.payload.id)};default:return e}},c=(0,a.createContext)(),l=e=>{let{children:t}=e,[r,l]=(0,a.useReducer)(o,n),[i,u]=(0,a.useState)(!0),[d,f]=(0,a.useState)(null),h=async()=>{try{u(!0);let e=await fetch("https://dummyjson.com/products");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();l({type:"SET_PRODUCTS",payload:t.products})}catch(e){f(e.message),console.error("Error fetching data:",e)}finally{u(!1)}};return((0,a.useEffect)(()=>{h()},[]),i)?(0,s.jsx)("div",{className:"w-full h-dvh flex justify-center items-center",children:"Loading..."}):d?(0,s.jsxs)("div",{children:["Error: ",d]}):(0,s.jsx)(c.Provider,{value:{state:r,dispatch:l},children:t})}},4199:function(e,t,r){"use strict";r.d(t,{N:function(){return n},ThemeProvider:function(){return o}});var s=r(7437),a=r(2265);let n=(0,a.createContext)(),o=e=>{let{children:t}=e,[r,o]=(0,a.useState)("dark");return(0,s.jsx)(n.Provider,{value:{toggle:()=>{o(e=>"dark"===e?"light":"dark")},mode:r},children:(0,s.jsx)("div",{className:"theme ".concat(r),children:t})})}},9826:function(e,t,r){"use strict";r.d(t,{S:function(){return o},default:function(){return c}});var s=r(7437),a=r(2265),n=r(9376);let o=(0,a.createContext)();function c(e){let{children:t}=e,[r,c]=(0,a.useState)([]),[l,i]=(0,a.useState)(null),[u,d]=(0,a.useState)(""),[f,h]=(0,a.useState)(""),p=(0,n.useRouter)();return(0,a.useEffect)(()=>{let e=localStorage.getItem("users");e?c(JSON.parse(e)):c([])},[]),(0,s.jsx)(o.Provider,{value:{registerUser:e=>{if(r.some(t=>t.email===e.email))d("المستخدم موجود بالفعل"),h("");else{let t=[...r,e];c(t),d(""),setTimeout(()=>{p.push("/login")},500),h("تم إنشاء المستخدم بنجاح!"),localStorage.setItem("users",JSON.stringify(t))}},error:u,success:f,users:r,setUser:i,user:l},children:t})}}},function(e){e.O(0,[51,452,448,292,971,117,744],function(){return e(e.s=4301)}),_N_E=e.O()}]);