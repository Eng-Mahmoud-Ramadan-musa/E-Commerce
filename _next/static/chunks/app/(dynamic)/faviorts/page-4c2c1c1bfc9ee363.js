(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{5341:function(e,t,r){Promise.resolve().then(r.bind(r,4057))},4057:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var s=r(7437),a=r(5920),o=r(689),n=r(2265);function c(){let{state:e}=(0,n.useContext)(o.s);return e.favoriteItems&&0!==e.favoriteItems.length?(0,s.jsx)("div",{className:"py-5 w-full gap-2 flex justify-center flex-wrap items-center px-[5%]",children:e.favoriteItems.map(e=>(0,s.jsx)(a.Z,{id:e.id,title:e.title,category:e.category,image:e.image,rating:e.rating,discount:e.discountPercentage,price:e.price,stock:e.stock,descount:e.discountPercentage},e.id))}):(0,s.jsx)("div",{className:"w-full text-white h-[80vh] flex justify-center items-center",children:"no favorites products"})}},1305:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(7437),a=r(4295),o=r(2744),n=r(689),c=r(9826),l=r(9376),i=r(2265),u=r(4199);function d(e){let{product:t}=e,{id:r,title:d,category:f,image:h,rating:m,descount:x,price:p,stock:y}=t,g=(0,l.useRouter)(),{state:v,dispatch:j}=(0,i.useContext)(n.s),{user:N}=(0,i.useContext)(c.S),{mode:I}=(0,i.useContext)(u.N),S=v.favoriteItems.some(e=>e.id===r),_=e=>{N?e():g.push("/login")};return(0,s.jsxs)("div",{style:{background:"".concat("dark"===I?"#ffffff33":"#22222255")},className:"sm:hidden flex flex-col absolute top-4 right-1 text-xl bg-opacity-40 p-1 rounded-lg z-30",children:[(0,s.jsx)("button",{className:"hover:bg-green-500 rounded-full p-1 text-white z-30",onClick:()=>{_(()=>{j({type:"ADD_TO_SHOPPING",payload:{id:r,title:d,category:f,image:h,rating:m,descount:x,price:p,stock:y,count:1}})})},children:(0,s.jsx)(a.S$f,{})}),(0,s.jsx)("button",{style:{background:!0===S?"#f00":""},className:"hover:bg-red-500 rounded-full p-1 text-white z-30",onClick:()=>{_(()=>{S?j({type:"REMOVE_TO_FAVORITE",payload:{id:r}}):j({type:"ADD_TO_FAVORITE",payload:{id:r,title:d,category:f,image:h,rating:m,descount:x,price:p,stock:y}})})},children:(0,s.jsx)(o.iqB,{})})]})}},5920:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var s=r(7437),a=r(3145),o=r(7648),n=r(2265),c=r(4199),l=r(8396),i=r(1305);function u(e){let{id:t,title:r,category:u,image:d,rating:f,descount:h,price:m,stock:x}=e,{mode:p}=(0,n.useContext)(c.N);return(0,s.jsxs)("div",{style:{border:"1px solid ".concat("dark"==p?"#fff":"#222")},className:"divControl relative w-60 items-start p-2 rounded-xl duration-300 ease-in-out",children:[(0,s.jsxs)(o.default,{href:"/product/".concat(t),className:" ",children:[(0,s.jsx)(a.default,{src:d,width:220,height:50,alt:r}),(0,s.jsx)("h2",{className:"text-lg font-bold text-nowrap text-ellipsis overflow-hidden",children:r}),x&&(0,s.jsxs)("h3",{className:"text-sm font-semibold opacity-70",children:["stock: ",x]}),f&&(0,s.jsxs)("h3",{className:"text-sm font-semibold flex gap-1 items-center",children:["rating: ",(0,s.jsx)(l.Z,{rate:f})," "]}),h?(0,s.jsxs)("span",{className:"flex justify-between items-center px-2",children:[(0,s.jsxs)("del",{className:"text-sm font-semibold text-red-500 opacity-70",children:["price: ",m," $"]}),(0,s.jsxs)("h3",{className:"bg-green-500 px-1 rounded-lg",children:[(m-m*h/100).toFixed(1)," $"]})]}):(0,s.jsxs)("h3",{className:"text-sm font-semibold opacity-70",children:["price: ",m," $"]})]},t),(0,s.jsx)(i.Z,{product:{id:t,title:r,category:u,image:d,rating:f,descount:h,price:m,stock:x}})]})}},8396:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(7437),a=r(4295);function o(e){let{rate:t}=e,r=[],o=Math.floor(t),n=t%1>=.5;for(let e=0;e<5;e++)e<o?r.push((0,s.jsx)(a.hF5,{className:"text-[gold]"},"full-".concat(e))):e===o&&n?r.push((0,s.jsxs)("div",{className:"relative overflow-hidden",children:[(0,s.jsx)(a.hF5,{className:"text-[gold]"}),(0,s.jsx)("div",{className:"absolute w-full h-full z-10 top-0 left-1/2 overflow-hidden bg-inherit ",children:(0,s.jsx)(a.hF5,{className:"text-gray-500  absolute -left-1/2"})})]},"half")):r.push((0,s.jsx)(a.hF5,{className:"text-gray-500"},"empty-".concat(e)));return(0,s.jsx)("span",{className:"flex",children:r})}},689:function(e,t,r){"use strict";r.d(t,{s:function(){return c},StateProvider:function(){return l}});var s=r(7437),a=r(2265);let o={products:[],filteredProducts:[],textSearch:"",searchProducts:[],category:"all",cartItems:[],favoriteItems:[]},n=(e,t)=>{switch(t.type){case"SET_PRODUCTS":return{...e,products:t.payload,filteredProducts:t.payload};case"FILTER_BY_CATEGORY":return{...e,category:t.payload,filteredProducts:"all"===t.payload?e.products:e.products.filter(e=>e.category===t.payload)};case"SET_SEARCH_TERM":return{...e,textSearch:t.payload,searchProducts:e.products.filter(e=>e.title.toLowerCase().includes(t.payload.toLowerCase()))};case"ADD_TO_SHOPPING":if(!e.cartItems.find(e=>e.id===t.payload.id))return{...e,cartItems:[...e.cartItems,{...t.payload,count:1}]};{let r=e.cartItems.map(e=>e.id===t.payload.id?{...e,count:e.count+1}:e);return{...e,cartItems:r}}case"REMOVE_FROM_SHOPPING":return{...e,cartItems:e.cartItems.map(e=>e.id!==t.payload.id?e:e.count>1?{...e,count:e.count-1}:null).filter(Boolean)};case"ADD_TO_FAVORITE":return{...e,favoriteItems:[...e.favoriteItems,t.payload]};case"REMOVE_TO_FAVORITE":return{...e,favoriteItems:e.favoriteItems.filter(e=>e.id!==t.payload.id)};default:return e}},c=(0,a.createContext)(),l=e=>{let{children:t}=e,[r,l]=(0,a.useReducer)(n,o),[i,u]=(0,a.useState)(!0),[d,f]=(0,a.useState)(null),h=async()=>{try{u(!0);let e=await fetch("https://dummyjson.com/products");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();l({type:"SET_PRODUCTS",payload:t.products})}catch(e){f(e.message),console.error("Error fetching data:",e)}finally{u(!1)}};return((0,a.useEffect)(()=>{h()},[]),i)?(0,s.jsx)("div",{className:"w-full h-dvh flex justify-center items-center",children:"Loading..."}):d?(0,s.jsxs)("div",{children:["Error: ",d]}):(0,s.jsx)(c.Provider,{value:{state:r,dispatch:l},children:t})}},4199:function(e,t,r){"use strict";r.d(t,{N:function(){return o},ThemeProvider:function(){return n}});var s=r(7437),a=r(2265);let o=(0,a.createContext)(),n=e=>{let{children:t}=e,[r,n]=(0,a.useState)("dark");return(0,s.jsx)(o.Provider,{value:{toggle:()=>{n(e=>"dark"===e?"light":"dark")},mode:r},children:(0,s.jsx)("div",{className:"theme ".concat(r),children:t})})}},9826:function(e,t,r){"use strict";r.d(t,{S:function(){return n},default:function(){return c}});var s=r(7437),a=r(2265),o=r(9376);let n=(0,a.createContext)();function c(e){let{children:t}=e,[r,c]=(0,a.useState)([]),[l,i]=(0,a.useState)(null),[u,d]=(0,a.useState)(""),[f,h]=(0,a.useState)(""),m=(0,o.useRouter)();return(0,a.useEffect)(()=>{let e=localStorage.getItem("users");e?c(JSON.parse(e)):c([])},[]),(0,s.jsx)(n.Provider,{value:{registerUser:e=>{if(r.some(t=>t.email===e.email))d("المستخدم موجود بالفعل"),h("");else{let t=[...r,e];c(t),d(""),setTimeout(()=>{m.push("/login")},500),h("تم إنشاء المستخدم بنجاح!"),localStorage.setItem("users",JSON.stringify(t))}},error:u,success:f,users:r,setUser:i,user:l},children:t})}}},function(e){e.O(0,[51,452,448,292,971,117,744],function(){return e(e.s=5341)}),_N_E=e.O()}]);