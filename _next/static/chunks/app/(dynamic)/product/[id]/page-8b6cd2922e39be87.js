(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{9870:function(e,t,r){Promise.resolve().then(r.bind(r,86))},117:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var s=r(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:i="",children:u,iconNode:d,...f}=e;return(0,s.createElement)("svg",{ref:t,...o,width:a,height:a,stroke:r,strokeWidth:c?24*Number(n)/Number(a):n,className:l("lucide",i),...f},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),c=((e,t)=>{let r=(0,s.forwardRef)((r,o)=>{let{className:c,...i}=r;return(0,s.createElement)(n,{ref:o,iconNode:t,className:l("lucide-".concat(a(e)),c),...i})});return r.displayName="".concat(e),r})("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},5523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return s}});let s=r(7043)._(r(2265)).default.createContext(null)},86:function(e,t,r){"use strict";r.d(t,{default:function(){return u}});var s=r(7437),a=r(8396),l=r(3145),o=r(2265),n=r(1305),c=r(117);function i(){return(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,s.jsx)(c.Z,{size:100,color:"rgb(0,136,202,0.75",className:"animate-spin"})})}function u(e){let{data:t}=e,[r,c]=(0,o.useState)(t.thumbnail),[u,d]=(0,o.useState)(!t);(0,o.useEffect)(()=>{t?(d(!1),c(t.thumbnail)):d(!0)},[t]);let f=e=>{c(e)};return u?(0,s.jsx)(i,{}):t?(0,s.jsxs)("div",{className:"relative px-[5%] flex flex-col sm:flex-row justify-between items-center w-full h-[82vh]",children:[(0,s.jsx)("div",{className:"relative w-full sm:w-1/2 h-1/3 sm:h-full",children:(0,s.jsx)(l.default,{src:r,layout:"fill",objectFit:"cover",priority:!0,alt:t.title})}),(0,s.jsxs)("div",{className:"w-full sm:w-1/2 h-2/3 sm:h-full flex flex-col ps-3 gap-2 justify-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-nowrap text-ellipsis overflow-hidden",children:t.title}),(0,s.jsxs)("h3",{className:"text-sm opacity-60 font-semibold",children:["Category: ",t.category]}),(0,s.jsx)("ul",{className:"flex gap-2",children:t.images.map((e,r)=>(0,s.jsx)("li",{className:"relative w-20 h-20 border rounded-lg object-contain cursor-pointer",onClick:()=>f(e),children:(0,s.jsx)(l.default,{src:e,width:70,height:70,alt:t.title})},r))}),(0,s.jsx)("p",{className:"text-xs h-8 overflow-hidden",children:t.description}),(0,s.jsxs)("h3",{className:"text-sm font-semibold",children:["Stock: ",t.stock]}),(0,s.jsxs)("h3",{className:"font-semibold flex gap-1 items-center text-lg",children:["Rating: ",(0,s.jsx)(a.Z,{rate:t.rating})]}),(0,s.jsxs)("h3",{className:"text-sm font-semibold",children:["Price: ",t.price," $"]})]}),(0,s.jsx)(n.Z,{product:t})]}):(0,s.jsx)("p",{children:"Error loading product data."})}},1305:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(7437),a=r(4295),l=r(2744),o=r(689),n=r(9826),c=r(9376),i=r(2265),u=r(4199);function d(e){let{product:t}=e,{id:r,title:d,category:f,image:h,rating:m,descount:x,price:p,stock:y}=t,v=(0,c.useRouter)(),{state:g,dispatch:j}=(0,i.useContext)(o.s),{user:N}=(0,i.useContext)(n.S),{mode:w}=(0,i.useContext)(u.N),b=g.favoriteItems.some(e=>e.id===r),k=e=>{N?e():v.push("/login")};return(0,s.jsxs)("div",{style:{background:"".concat("dark"===w?"#ffffff33":"#22222255")},className:"sm:hidden flex flex-col absolute top-4 right-1 text-xl bg-opacity-40 p-1 rounded-lg z-30",children:[(0,s.jsx)("button",{className:"hover:bg-green-500 rounded-full p-1 text-white z-30",onClick:()=>{k(()=>{j({type:"ADD_TO_SHOPPING",payload:{id:r,title:d,category:f,image:h,rating:m,descount:x,price:p,stock:y,count:1}})})},children:(0,s.jsx)(a.S$f,{})}),(0,s.jsx)("button",{style:{background:!0===b?"#f00":""},className:"hover:bg-red-500 rounded-full p-1 text-white z-30",onClick:()=>{k(()=>{b?j({type:"REMOVE_TO_FAVORITE",payload:{id:r}}):j({type:"ADD_TO_FAVORITE",payload:{id:r,title:d,category:f,image:h,rating:m,descount:x,price:p,stock:y}})})},children:(0,s.jsx)(l.iqB,{})})]})}},8396:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(7437),a=r(4295);function l(e){let{rate:t}=e,r=[],l=Math.floor(t),o=t%1>=.5;for(let e=0;e<5;e++)e<l?r.push((0,s.jsx)(a.hF5,{className:"text-[gold]"},"full-".concat(e))):e===l&&o?r.push((0,s.jsxs)("div",{className:"relative overflow-hidden",children:[(0,s.jsx)(a.hF5,{className:"text-[gold]"}),(0,s.jsx)("div",{className:"absolute w-full h-full z-10 top-0 left-1/2 overflow-hidden bg-inherit ",children:(0,s.jsx)(a.hF5,{className:"text-gray-500  absolute -left-1/2"})})]},"half")):r.push((0,s.jsx)(a.hF5,{className:"text-gray-500"},"empty-".concat(e)));return(0,s.jsx)("span",{className:"flex",children:r})}},689:function(e,t,r){"use strict";r.d(t,{s:function(){return n},StateProvider:function(){return c}});var s=r(7437),a=r(2265);let l={products:[],filteredProducts:[],textSearch:"",searchProducts:[],category:"all",cartItems:[],favoriteItems:[]},o=(e,t)=>{switch(t.type){case"SET_PRODUCTS":return{...e,products:t.payload,filteredProducts:t.payload};case"FILTER_BY_CATEGORY":return{...e,category:t.payload,filteredProducts:"all"===t.payload?e.products:e.products.filter(e=>e.category===t.payload)};case"SET_SEARCH_TERM":return{...e,textSearch:t.payload,searchProducts:e.products.filter(e=>e.title.toLowerCase().includes(t.payload.toLowerCase()))};case"ADD_TO_SHOPPING":if(!e.cartItems.find(e=>e.id===t.payload.id))return{...e,cartItems:[...e.cartItems,{...t.payload,count:1}]};{let r=e.cartItems.map(e=>e.id===t.payload.id?{...e,count:e.count+1}:e);return{...e,cartItems:r}}case"REMOVE_FROM_SHOPPING":return{...e,cartItems:e.cartItems.map(e=>e.id!==t.payload.id?e:e.count>1?{...e,count:e.count-1}:null).filter(Boolean)};case"ADD_TO_FAVORITE":return{...e,favoriteItems:[...e.favoriteItems,t.payload]};case"REMOVE_TO_FAVORITE":return{...e,favoriteItems:e.favoriteItems.filter(e=>e.id!==t.payload.id)};default:return e}},n=(0,a.createContext)(),c=e=>{let{children:t}=e,[r,c]=(0,a.useReducer)(o,l),[i,u]=(0,a.useState)(!0),[d,f]=(0,a.useState)(null),h=async()=>{try{u(!0);let e=await fetch("https://dummyjson.com/products");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();c({type:"SET_PRODUCTS",payload:t.products})}catch(e){f(e.message),console.error("Error fetching data:",e)}finally{u(!1)}};return((0,a.useEffect)(()=>{h()},[]),i)?(0,s.jsx)("div",{className:"w-full h-dvh flex justify-center items-center",children:"Loading..."}):d?(0,s.jsxs)("div",{children:["Error: ",d]}):(0,s.jsx)(n.Provider,{value:{state:r,dispatch:c},children:t})}},4199:function(e,t,r){"use strict";r.d(t,{N:function(){return l},ThemeProvider:function(){return o}});var s=r(7437),a=r(2265);let l=(0,a.createContext)(),o=e=>{let{children:t}=e,[r,o]=(0,a.useState)("dark");return(0,s.jsx)(l.Provider,{value:{toggle:()=>{o(e=>"dark"===e?"light":"dark")},mode:r},children:(0,s.jsx)("div",{className:"theme ".concat(r),children:t})})}},9826:function(e,t,r){"use strict";r.d(t,{S:function(){return o},default:function(){return n}});var s=r(7437),a=r(2265),l=r(9376);let o=(0,a.createContext)();function n(e){let{children:t}=e,[r,n]=(0,a.useState)([]),[c,i]=(0,a.useState)(null),[u,d]=(0,a.useState)(""),[f,h]=(0,a.useState)(""),m=(0,l.useRouter)();return(0,a.useEffect)(()=>{let e=localStorage.getItem("users");e?n(JSON.parse(e)):n([])},[]),(0,s.jsx)(o.Provider,{value:{registerUser:e=>{if(r.some(t=>t.email===e.email))d("المستخدم موجود بالفعل"),h("");else{let t=[...r,e];n(t),d(""),setTimeout(()=>{m.push("/login")},500),h("تم إنشاء المستخدم بنجاح!"),localStorage.setItem("users",JSON.stringify(t))}},error:u,success:f,users:r,setUser:i,user:c},children:t})}}},function(e){e.O(0,[51,452,292,971,117,744],function(){return e(e.s=9870)}),_N_E=e.O()}]);