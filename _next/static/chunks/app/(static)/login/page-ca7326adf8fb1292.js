(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{2417:function(e,t,s){Promise.resolve().then(s.bind(s,2244))},2244:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(7437),n=s(4199),l=s(9826),a=s(7648),i=s(2265),u=s(9376);function o(){let e=(0,u.useRouter)(),[t,s]=(0,i.useState)(""),[o,c]=(0,i.useState)(""),{users:d,setUser:f}=(0,i.useContext)(l.S),[m,h]=(0,i.useState)(""),{mode:x}=(0,i.useContext)(n.N),g=async r=>{r.preventDefault();let n=await d.find(e=>e.email===t&&e.password===o);null!=n?(await f({...n}),h(""),e.push("/")):h("المستخدم غير موجود "),s(""),c("")};return(0,r.jsx)("div",{className:"flex justify-center items-center w-52 h-dvh",children:(0,r.jsxs)("form",{onSubmit:g,style:{background:"".concat("dark"===x?"#eeeeee44":"#33333355"),color:"".concat("dark"===x?"#eee":"#333")},className:"flex flex-col justify-center items-center gap-5 h-[70%] px-[5%]  bg-opacity-20 rounded-xl",children:[(0,r.jsx)("h2",{className:"text-white font-bold text-2xl",children:"login"}),(0,r.jsxs)("fieldset",{className:" border rounded-lg overflow-hidden",children:[(0,r.jsx)("legend",{className:"ms-4",children:"Email"}),(0,r.jsx)("input",{className:"text-black ps-2 font-bold",type:"email",name:"email",required:!0,value:t,onChange:e=>s(e.target.value)})]}),(0,r.jsxs)("fieldset",{className:" border rounded-lg overflow-hidden",children:[(0,r.jsx)("legend",{className:"ms-4",children:"password"}),(0,r.jsx)("input",{className:"text-black ps-2 font-bold",type:"password",name:"password",required:!0,value:o,onChange:e=>c(e.target.value)})]}),(0,r.jsx)("button",{type:"submit",className:"text-white bg-green-500 px-4 rounded-lg border",children:"Login"}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,r.jsx)("small",{children:"password forget?"}),(0,r.jsx)(a.default,{href:"/registar",children:" Registar"})]}),m&&(0,r.jsx)("p",{className:"text-red-500",children:m})]})})}},4199:function(e,t,s){"use strict";s.d(t,{N:function(){return l},ThemeProvider:function(){return a}});var r=s(7437),n=s(2265);let l=(0,n.createContext)(),a=e=>{let{children:t}=e,[s,a]=(0,n.useState)("dark");return(0,r.jsx)(l.Provider,{value:{toggle:()=>{a(e=>"dark"===e?"light":"dark")},mode:s},children:(0,r.jsx)("div",{className:"theme ".concat(s),children:t})})}},9826:function(e,t,s){"use strict";s.d(t,{S:function(){return a},default:function(){return i}});var r=s(7437),n=s(2265),l=s(9376);let a=(0,n.createContext)();function i(e){let{children:t}=e,[s,i]=(0,n.useState)([]),[u,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(""),[f,m]=(0,n.useState)(""),h=(0,l.useRouter)();return(0,n.useEffect)(()=>{let e=localStorage.getItem("users");e?i(JSON.parse(e)):i([])},[]),(0,r.jsx)(a.Provider,{value:{registerUser:e=>{if(s.some(t=>t.email===e.email))d("المستخدم موجود بالفعل"),m("");else{let t=[...s,e];i(t),d(""),setTimeout(()=>{h.push("/login")},500),m("تم إنشاء المستخدم بنجاح!"),localStorage.setItem("users",JSON.stringify(t))}},error:c,success:f,users:s,setUser:o,user:u},children:t})}}},function(e){e.O(0,[448,971,117,744],function(){return e(e.s=2417)}),_N_E=e.O()}]);